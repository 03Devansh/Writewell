{
  "meta": {
    "project": "Inkwell",
    "date": "2026-01-15",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Inkwell is an AI-powered document writing application designed for researchers, academics, and professional writers. It integrates a rich text editor with a knowledge base and context-aware AI writing assistance to enable efficient, professional document creation enriched with user references and instructions.",
  "core_goals": [
    "Enable context-aware AI writing assistance leveraging both document content and user-defined knowledge base.",
    "Provide a seamless, distraction-free professional writing experience with comprehensive rich text editing features.",
    "Facilitate streamlined research integration through knowledge base management for references, notes, and research papers.",
    "Ensure real-time data persistence with auto-save and synchronization across devices.",
    "Enable flexible AI instruction management at global user and per-document levels for customized AI behavior.",
    "Support document creation, management, and exporting in industry standard formats (DOCX, PDF).",
    "Offer a subscription-based model with trial flows and secure user authentication and profile management."
  ],
  "key_features": [
    "Email and password secure user authentication with session handling and profile editing.",
    "Subscription management integrated with Polar for trial and paid flows, including real-time subscription status.",
    "Document dashboard with grid layout showing document previews, create, delete, and load functionalities.",
    "Rich text editor powered by TipTap with formatting options (bold, italic, underline, strikethrough), headings (H1-H3), lists, blockquotes, and paragraph formatting.",
    "Document auto-save with debounce, manual save shortcuts, unsaved changes warnings, and save status indicators.",
    "Knowledge base sidebar allowing addition, viewing, and deletion of knowledge entries linked to specific documents.",
    "AI chat assistant panel providing context-aware writing help using document content, knowledge base, chat history, and AI instructions.",
    "Global and document-specific AI instructions management for tailored AI writing styles.",
    "Export functionality supporting DOCX and PDF formats preserving document formatting and styles.",
    "Responsive UI with three-panel layout: knowledge base (left), editor (center), AI chat (right) with collapsible sidebars.",
    "Landing page with marketing content, feature highlights, calls to action, and user onboarding flows.",
    "Robust error handling, accessibility compliance, keyboard navigation, and responsive design for desktop, tablet, and mobile."
  ],
  "user_flow_summary": [
    "New user onboarding: Visit landing page, sign up, trial subscription checkout via Polar, dashboard access, create first document, explore knowledge base and AI assistant.",
    "Document creation and editing: From dashboard create new document, edit title inline, write in rich text editor, auto-save and manual save with status indicators.",
    "Knowledge base workflow: Open knowledge sidebar, add knowledge items with title and content, view and delete knowledge, which are automatically included in AI context.",
    "AI writing assistance: Open AI chat panel, use suggested prompts or custom queries, AI responds contextually with document content, knowledge, chat history, and AI instructions; user can copy or insert AI-generated text.",
    "Document export: After editing, user exports document to DOCX or PDF format with formatting preservation and automatic file download."
  ],
  "validation_criteria": [
    "Authentication system must securely handle user sign-up, login, session management, and profile updates with encrypted password storage.",
    "Subscription status is checked and enforced properly for feature access with Polar integration and webhook handling.",
    "Documents support full CRUD operations with auto-save completing within 500ms and save status indicators updating accurately.",
    "Rich text editor supports all listed formatting features, keyboard shortcuts, and warns on unsaved changes before navigation.",
    "Knowledge base additions, deletions, and listing operate without errors and knowledge context is reliably included in AI interactions.",
    "AI writing assistant responds within 5-10 seconds with contextually relevant output, handles errors gracefully, and supports insertion and copying of responses.",
    "Document export produces well-formatted DOCX and PDF files preserving styles, headings, and multi-page layout for PDFs.",
    "Application UI is fully responsive across desktop, tablet, and mobile, with accessible keyboard navigation and meets WCAG AA color contrast standards.",
    "System maintains <1% AI error rate, 99.9% uptime, and <100ms average latency for save operations.",
    "Security measures include secure password hashing, HTTPS encryption, CSRF protection, and user data scoped access control."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Convex",
      "Tailwind CSS",
      "TipTap",
      "OpenAI",
      "React Router DOM",
      "Lucide React",
      "docx",
      "jspdf",
      "html2canvas",
      "file-saver",
      "Polar"
    ],
    "features": [
      {
        "name": "User Authentication",
        "description": "Email/password authentication with session management, sign up, sign in, sign out, and profile management",
        "files": [
          "src/pages/Auth.tsx",
          "src/contexts/AuthContext.tsx",
          "convex/auth.ts"
        ]
      },
      {
        "name": "Document Dashboard",
        "description": "Grid layout displaying all user documents with create, delete, and preview functionality",
        "files": [
          "src/pages/Dashboard.tsx",
          "convex/documents.ts"
        ]
      },
      {
        "name": "Rich Text Editor",
        "description": "Full-featured editor powered by TipTap with formatting (bold, italic, underline, strikethrough), headings (H1-H3), lists, blockquotes, auto-save, and export functionality",
        "files": [
          "src/components/editor/RichEditor.tsx",
          "src/pages/Editor.tsx"
        ]
      },
      {
        "name": "Document Management",
        "description": "Create, read, update, delete documents with auto-save, title editing, and save status indicators",
        "files": [
          "src/pages/Editor.tsx",
          "convex/documents.ts"
        ]
      },
      {
        "name": "Knowledge Base",
        "description": "Add, view, and delete knowledge items (references, notes, research papers) that provide context to AI",
        "files": [
          "src/components/editor/KnowledgePanel.tsx",
          "convex/knowledge.ts"
        ]
      },
      {
        "name": "AI Writing Assistant",
        "description": "Context-aware AI chat that uses document content, knowledge base, chat history, and AI instructions to provide writing assistance",
        "files": [
          "src/components/editor/AIChat.tsx",
          "convex/ai.ts"
        ]
      },
      {
        "name": "AI Instructions Management",
        "description": "Global and document-specific AI instructions to customize AI behavior and writing style",
        "files": [
          "src/pages/Profile.tsx",
          "src/components/editor/KnowledgePanel.tsx",
          "convex/auth.ts",
          "convex/documents.ts"
        ]
      },
      {
        "name": "Document Export",
        "description": "Export documents to DOCX and PDF formats with formatting preservation",
        "files": [
          "src/utils/exportUtils.ts",
          "src/components/editor/RichEditor.tsx"
        ]
      },
      {
        "name": "Subscription Management",
        "description": "Subscription status checking, trial flow, and Polar checkout integration",
        "files": [
          "src/pages/Trial.tsx",
          "convex/auth.ts",
          "convex/http.ts",
          "convex/webhookVerification.ts"
        ]
      },
      {
        "name": "User Profile",
        "description": "Profile management with name, email, and global AI instructions editing",
        "files": [
          "src/pages/Profile.tsx",
          "convex/auth.ts"
        ]
      },
      {
        "name": "Landing Page",
        "description": "Marketing landing page with hero section, features showcase, and call-to-action",
        "files": [
          "src/pages/Landing.tsx"
        ]
      },
      {
        "name": "Account Dropdown",
        "description": "User account dropdown with profile and logout options",
        "files": [
          "src/components/AccountDropdown.tsx"
        ]
      },
      {
        "name": "Routing and Navigation",
        "description": "React Router setup with protected routes, public routes, and navigation between pages",
        "files": [
          "src/App.tsx"
        ]
      },
      {
        "name": "Database Schema",
        "description": "Convex schema definitions for users, documents, knowledge, and sessions tables",
        "files": [
          "convex/schema.ts"
        ]
      }
    ]
  }
}
